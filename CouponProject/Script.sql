--<ScriptOptions statementTerminator=";"/>

CREATE TABLE COMPANY_COUPON (
		COMP_ID INTEGER,
		COUPON_ID INTEGER
	);

CREATE TABLE COUPON (
		ID INTEGER DEFAULT AUTOINCREMENT: start 1 increment 1 NOT NULL GENERATED ALWAYS AS IDENTITY  (START WITH 1 ,INCREMENT BY 1),
		TITLE VARCHAR(50) NOT NULL,
		START_DATE DATE NOT NULL,
		END_DATE DATE NOT NULL,
		AMOUNT INTEGER NOT NULL,
		COUPON_TYPE VARCHAR(20) NOT NULL,
		MESSAGE VARCHAR(144) NOT NULL,
		PRICE DOUBLE NOT NULL,
		IMAGE VARCHAR(50)
	);

CREATE TABLE CUSTOMER_COUPON (
		CUST_ID INTEGER,
		COUPON_ID INTEGER
	);

CREATE TABLE CUSTOMER (
		ID INTEGER DEFAULT AUTOINCREMENT: start 1 increment 1 NOT NULL GENERATED ALWAYS AS IDENTITY  (START WITH 1 ,INCREMENT BY 1),
		CUST_NAME VARCHAR(20) NOT NULL,
		PASSWORD VARCHAR(20) NOT NULL
	);

CREATE TABLE COMPANY (
		ID INTEGER DEFAULT AUTOINCREMENT: start 1 increment 1 NOT NULL GENERATED ALWAYS AS IDENTITY  (START WITH 1 ,INCREMENT BY 1),
		COMP_NAME VARCHAR(20) NOT NULL,
		PASSWORD VARCHAR(20) NOT NULL,
		EMAIL VARCHAR(50) NOT NULL
	);

CREATE UNIQUE INDEX SQL150911161711720 ON COUPON (ID ASC);

CREATE INDEX SQL150911162203840 ON CUSTOMER_COUPON (CUST_ID ASC);

CREATE UNIQUE INDEX SQL150911162153750 ON CUSTOMER (ID ASC);

CREATE INDEX SQL150911162214741 ON COMPANY_COUPON (COUPON_ID ASC);

CREATE UNIQUE INDEX SQL150911161851700 ON COMPANY (ID ASC);

CREATE INDEX SQL150911162203841 ON CUSTOMER_COUPON (COUPON_ID ASC);

CREATE INDEX SQL150911162214740 ON COMPANY_COUPON (COMP_ID ASC);

ALTER TABLE COUPON ADD CONSTRAINT SQL150911161711720 PRIMARY KEY (ID);

ALTER TABLE COMPANY ADD CONSTRAINT SQL150911161851700 PRIMARY KEY (ID);

ALTER TABLE CUSTOMER ADD CONSTRAINT SQL150911162153750 PRIMARY KEY (ID);

ALTER TABLE COMPANY_COUPON ADD CONSTRAINT SQL150911162214741 FOREIGN KEY (COUPON_ID)
	REFERENCES COUPON (ID);

ALTER TABLE COMPANY_COUPON ADD CONSTRAINT SQL150911162214740 FOREIGN KEY (COMP_ID)
	REFERENCES COMPANY (ID);

ALTER TABLE CUSTOMER_COUPON ADD CONSTRAINT SQL150911162203840 FOREIGN KEY (CUST_ID)
	REFERENCES CUSTOMER (ID);

ALTER TABLE CUSTOMER_COUPON ADD CONSTRAINT SQL150911162203841 FOREIGN KEY (COUPON_ID)
	REFERENCES COUPON (ID);

